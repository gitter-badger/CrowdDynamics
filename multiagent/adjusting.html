

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.3. Adjusting &mdash; Crowd Dynamics 1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Crowd Dynamics 1 documentation" href="../index.html"/>
        <link rel="up" title="5. Multi-Agent" href="index.html"/>
        <link rel="next" title="5.4. Interactions" href="interactions.html"/>
        <link rel="prev" title="5.2. Social Force Model" href="social_force_model.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Crowd Dynamics
          

          
            
            <img src="../_static/logo.svg" class="logo" />
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">1. Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#developers">1.1. Developers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">2. Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../foundations/index.html">3. Foundations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../foundations/theory.html">3.1. Mathematical Foundations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../foundations/theory.html#time">3.1.1. Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="../foundations/theory.html#geometry">3.1.2. Geometry</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../foundations/theory.html#domain">3.1.2.1. Domain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../foundations/theory.html#obstacle">3.1.2.2. Obstacle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../foundations/theory.html#exit">3.1.2.3. Exit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../foundations/theory.html#narrow-bottleneck">3.1.2.4. Narrow bottleneck</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../foundations/theory.html#agent">3.1.3. Agent</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../foundations/theory.html#model">3.1.3.1. Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../foundations/theory.html#circular-model">3.1.3.2. Circular model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../foundations/theory.html#elliptical-model">3.1.3.3. Elliptical model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../foundations/theory.html#three-circle-model">3.1.3.4. Three circle model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../foundations/theory.html#initial-configuration">3.1.4. Initial configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../foundations/quantities.html">3.2. Quantities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../foundations/quantities.html#density">3.2.1. Density</a></li>
<li class="toctree-l3"><a class="reference internal" href="../foundations/quantities.html#flow">3.2.2. Flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../foundations/quantities.html#rate">3.2.2.1. Rate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../foundations/quantities.html#types">3.2.2.2. Types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../foundations/quantities.html#pressure">3.2.3. Pressure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../foundations/quantities.html#fundamental-diagram">3.2.4. Fundamental Diagram</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cellular/index.html">4. Cellular Automata</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">5. Multi-Agent</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="algorithms.html">5.1. Algorithms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="algorithms.html#n-body-simulations">5.1.1. N-Body Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="algorithms.html#brute-force">5.1.2. Brute Force</a></li>
<li class="toctree-l3"><a class="reference internal" href="algorithms.html#spatial-partitioning-algorithms">5.1.3. Spatial Partitioning Algorithms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="algorithms.html#block-list">5.1.3.1. Block List</a></li>
<li class="toctree-l4"><a class="reference internal" href="algorithms.html#convex-hull">5.1.3.2. Convex Hull</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="algorithms.html#parallelisation">5.1.4. Parallelisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="algorithms.html#refences">5.1.5. Refences</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="social_force_model.html">5.2. Social Force Model</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">5.3. Adjusting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#force">5.3.1. Force</a></li>
<li class="toctree-l3"><a class="reference internal" href="#torque">5.3.2. Torque</a></li>
<li class="toctree-l3"><a class="reference internal" href="#subgroups">5.3.3. Subgroups</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#attractor-point">5.3.3.1. Attractor point</a></li>
<li class="toctree-l4"><a class="reference internal" href="#intra-subgroup-adjusting-force">5.3.3.2. Intra-subgroup adjusting force</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="interactions.html">5.4. Interactions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="interactions.html#social-force">5.4.1. Social Force</a></li>
<li class="toctree-l3"><a class="reference internal" href="interactions.html#physical-contact">5.4.2. Physical Contact</a></li>
<li class="toctree-l3"><a class="reference internal" href="interactions.html#torque">5.4.3. Torque</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fluctuation.html">5.5. Fluctuation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fluctuation.html#force">5.5.1. Force</a></li>
<li class="toctree-l3"><a class="reference internal" href="fluctuation.html#torque">5.5.2. Torque</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="integrator.html">5.6. Integrator</a></li>
<li class="toctree-l2"><a class="reference internal" href="navigation.html">5.7. Navigation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="navigation.html#distance-map-and-static-potential">5.7.1. Distance map and static potential</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation.html#dynamic-potential">5.7.2. Dynamic potential</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation.html#implementation">5.7.3. Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation.html#references">5.7.4. References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="orientation.html">5.8. Orientation</a></li>
<li class="toctree-l2"><a class="reference internal" href="exit_selection.html">5.9. Exit Selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="game.html">5.10. Games</a><ul>
<li class="toctree-l3"><a class="reference internal" href="game.html#spatial-game-for-egress-congestion">5.10.1. Spatial Game for Egress Congestion</a></li>
<li class="toctree-l3"><a class="reference internal" href="game.html#strategy-selection">5.10.2. Strategy Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="game.html#strategy-updating">5.10.3. Strategy Updating</a></li>
<li class="toctree-l3"><a class="reference internal" href="game.html#agents-closer-to-exit">5.10.4. Agents Closer to Exit</a></li>
<li class="toctree-l3"><a class="reference internal" href="game.html#effect-on-agents">5.10.5. Effect on agents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../continuum/index.html">6. Continuum Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research/index.html">7. Research</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../research/phenomena.html">7.1. Phenomena</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../research/phenomena.html#egress-congestion">7.1.1. Egress Congestion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../research/phenomena.html#faster-is-slower">7.1.2. Faster is slower</a></li>
<li class="toctree-l3"><a class="reference internal" href="../research/phenomena.html#arching">7.1.3. Arching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../research/phenomena.html#zipper-effect">7.1.4. Zipper effect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../research/phenomena.html#herding">7.1.5. Herding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../research/phenomena.html#lane-formation">7.1.6. Lane formation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../research/phenomena.html#freezing-by-heat">7.1.7. Freezing by heat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../research/phenomena.html#turbulence">7.1.8. Turbulence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../research/phenomena.html#stop-and-go-waves">7.1.9. Stop-and-Go waves</a></li>
<li class="toctree-l3"><a class="reference internal" href="../research/phenomena.html#braess-s-paradox">7.1.10. Braess&#8217;s paradox</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../research/simulations.html">7.2. Simulations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../research/simulations.html#outdoor">7.2.1. Outdoor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../research/simulations.html#hallway">7.2.2. Hallway</a></li>
<li class="toctree-l3"><a class="reference internal" href="../research/simulations.html#crossing">7.2.3. Crossing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../research/simulations.html#evacuation">7.2.4. Evacuation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../research/simulations.html#turning">7.2.5. Turning</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../research/applications.html">7.3. Applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">8. API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/application.html">8.1. Application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/application.html#architecture">8.1.1. Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/application.html#configuration-files">8.1.2. Configuration Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/application.html#command-line-arguments">8.1.3. Command Line Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/application.html#tests">8.1.4. Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/application.html#profiling">8.1.5. Profiling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/core.html">8.2. Core</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/core.html#module-crowddynamics.core.motion">8.2.1. Motion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core.html#module-crowddynamics.core.distance">8.2.2. Distance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core.html#module-crowddynamics.core.interactions">8.2.3. Interactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core.html#module-crowddynamics.core.block_list">8.2.4. Block List</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core.html#module-crowddynamics.core.integrator">8.2.5. Integrator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core.html#module-crowddynamics.core.navigation">8.2.6. Navigation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/io.html">8.3. IO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/simulation.html">8.4. Simulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/simulation.html#agent">8.4.1. Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/simulation.html#multi-agent">8.4.2. Multi-Agent</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/simulation.html#configuration">8.4.2.1. Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/simulation.html#id1">8.4.2.2. Simulation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/interface.html">8.5. Graphical User Interface</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Crowd Dynamics</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">5. Multi-Agent</a> &raquo;</li>
      
    <li>5.3. Adjusting</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/multiagent/adjusting.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="adjusting">
<h1>5.3. Adjusting<a class="headerlink" href="#adjusting" title="Permalink to this headline">¶</a></h1>
<div class="section" id="force">
<h2>5.3.1. Force<a class="headerlink" href="#force" title="Permalink to this headline">¶</a></h2>
<p><em>Adjusting</em> aka <em>driving</em> force accounts of agent&#8217;s desire to reach a certain destination. In high crowd densities term <em>manoeuvring</em> is used.  Force affecting the agent takes form</p>
<div class="math">
\[\mathbf{f}_{adj} = \frac{m}{\tau_{adj}} (v_{0} \mathbf{\hat{e}_{0}} - \mathbf{v}),\]</div>
<p>where</p>
<ul class="simple">
<li>Characteristic time <span class="math">\(\tau_{adj}\)</span> time for agent to adjust it movement. Value <span class="math">\(0.5\)</span> is often used, but for example impatient agent that tend to push other agent more this value can be reduced.</li>
<li>Target velocity <span class="math">\(v_{0}\)</span> is usually <em>average walking speed</em> for agent in its current situation.</li>
<li>Target direction <span class="math">\(\mathbf{\hat{e}_{0}}\)</span> is solved by <em>navigation</em> or <em>path planning</em> algorithm. More details in the navigation section.</li>
</ul>
</div>
<div class="section" id="torque">
<h2>5.3.2. Torque<a class="headerlink" href="#torque" title="Permalink to this headline">¶</a></h2>
<p>Adjusting torque account for agent&#8217;s desire to rotate it orientation.</p>
<div class="math">
\[M_{adj} = \frac{I_{rot}}{\tau_{rot}} \left( \omega_{0} \left ( \frac{\varphi - \varphi_{0}}{\pi} \right ) - \omega\right),\]</div>
<p>where</p>
<ul class="simple">
<li>Angular difference <span class="math">\(\varphi - \varphi_{0}\)</span> is wrapped between interval <span class="math">\([-\pi, \pi]\)</span> so that division by <span class="math">\(\pi\)</span> returns value between <span class="math">\([-1, 1]\)</span>. This gives direction and magnitude for the torque.</li>
<li>Characteristic time <span class="math">\(\tau_{rot}\)</span> time for agent to adjust it orientation.</li>
<li>Maximum angular velocity <span class="math">\(\omega_{0}\)</span>.</li>
<li>Target orientation <span class="math">\(\varphi_{0}\)</span>. In low and medium crowd densities the angle of the target direction can be sufficient for target orientation. In high crowd densities agents may twist their body differently for example to try to squeeze through narrow spaces, requiring more sophisticated algorithms.</li>
</ul>
</div>
<div class="section" id="subgroups">
<h2>5.3.3. Subgroups<a class="headerlink" href="#subgroups" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This section is under construction and might contain errors and be subject to change.</p>
</div>
<p>Crowds in real life often have a number of smaller subgroups. Such as group of two or three friends walking together or couple with or without children.</p>
<p>Model by Langston for subgroups at most <span class="math">\(4\)</span> people.</p>
<div class="section" id="attractor-point">
<h3>5.3.3.1. Attractor point<a class="headerlink" href="#attractor-point" title="Permalink to this headline">¶</a></h3>
<div class="math">
\[\mathbf{x}_{att} = \mathbf{x}_{n} \pm d \hat{\mathbf{e}} (\theta)\]</div>
<p>where</p>
<ul class="simple">
<li><span class="math">\(\mathbf{x}_{n}\)</span> is the coordinates of relative neighbor</li>
<li><span class="math">\(d\)</span> is desired distance between two consecutive members</li>
<li><span class="math">\(\theta\)</span> is desired angular orientation of the subgroup</li>
</ul>
</div>
<div class="section" id="intra-subgroup-adjusting-force">
<h3>5.3.3.2. Intra-subgroup adjusting force<a class="headerlink" href="#intra-subgroup-adjusting-force" title="Permalink to this headline">¶</a></h3>
<p>Subgroup adjusting force adds additional term to adjusting force in social force model</p>
<div class="math">
\[\mathbf{f}^{adj} = \frac{m}{\tau^{adj}} (v_{0} \hat{\mathbf{e}}  + \underset{\text{new}}{\underbrace{k \mathbf{e}_{att}}} - \mathbf{v})\]</div>
<ul class="simple">
<li><span class="math">\(\mathbf{e}_{att} = \mathbf{x}_{att} - \mathbf{x}_{i}\)</span> relative displacement from the formation attractor point</li>
<li><span class="math">\(k\)</span> subgroup velocity constant</li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="interactions.html" class="btn btn-neutral float-right" title="5.4. Interactions" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="social_force_model.html" class="btn btn-neutral" title="5.2. Social Force Model" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Jaan Tollander de Balsch.
      Last updated on Jan 17, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>